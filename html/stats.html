<!DOCTYPE html>
<html>
  <head>
    <title>Statistikien</title>
    <link rel="stylesheet" href="../css/styles_general.css" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
  </head>

  <nav id="nav">
    <button
      class="hamburger hamburger--squeeze"
      type="button"
      onclick="toggleButton()"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
    <div id="sidenav" class="sidenav">
      <button class="sidenav-button" style="margin-bottom: 20px;">
        Einstellungen
      </button>
      <a href="#">Startseite</a>
      <hr class="bold" />
      <a href="#">Neues Spiel</a>
      <hr />
      <a href="#">Spielverlauf</a>
      <hr class="bold" />
      <a href="#">Neue Gruppe</a>
      <hr />
      <a href="#">Gruppenübersicht</a>
      <hr class="bold" />
      <a href="#">Neues Turnier</a>
      <hr />
      <a href="#">Turnierübersicht</a>
      <hr class="bold" />
      <a href="#">Statistiken</a>
      <hr />
      <a href="#">Achievements</a>
      <hr class="bold" />
      <a href="#">FAQ</a>
      <hr />
      <a href="#">Datenschutz / Impressum</a>
      <button class="sidenav-button" style="margin-top: 20px;">Logout</button>
    </div>
    <script>
      var stateModule = (function () {
        var state;
        var pub = {};
        pub.changeState = function (newstate) {
          state = newstate;
        };
        pub.getState = function () {
          return state;
        };
        return pub;
      })();
      function toggleButton() {
        var menu = document.querySelector(".hamburger");
        menu.classList.toggle("is-active");
        if (!stateModule.getState()) {
          openNav();
          stateModule.changeState(1);
        } else {
          closeNav();
          stateModule.changeState(0);
        }
      }
      function openNav() {
        document.getElementById("sidenav").style.width = "300px";
        document.getElementById("nav").style.marginLeft = "300px";
        document.getElementById("main").style.marginLeft = "300px";
      }
      function closeNav() {
        document.getElementById("sidenav").style.width = "0";
        document.getElementById("nav").style.marginLeft = "0";
        document.getElementById("main").style.marginLeft = "0";
      }
    </script>
    <h1 class="menu_title">Statistiken</h1>
  </nav>

  <div id="main">
    <body>
      <div class="division dark">
        <div class="box dark"></div>
        <div class="box light" style="grid-column: 1 / 13; padding: 10px;">
          <h2 class="box_value" style="font-size: xxx-large;">Win/Loose</h2>
          <canvas id="winLoosePie"></canvas>
        </div>
      </div>

      <div
        class="division light"
        style="padding-top: 40px; padding-bottom: 0px;"
      >
        <div class="box light" style="grid-row: 1; grid-column: 1 / 13;"></div>
        <div class="box dark" style="grid-row: 1; grid-column: 1 / 13;">
          <h2 class="box_value" style="font-size: xxx-large;">Elo</h2>
          <canvas id="eloChart" style="grid-row: 2;"></canvas>
        </div>
      </div>
    </body>
  </div>
  <script>
    var winLoosePieCtx = document
      .getElementById("winLoosePie")
      .getContext("2d");
    var winLoosePie = new Chart(winLoosePieCtx, {
      type: "pie",
      data: {
        labels: ["Wins", "Looses"],
        datasets: [
          {
            data: [90, 20],
            borderWidth: 0,
            backgroundColor: ["#31bebeff", "#12141eff"],
          },
        ],
      },
      options: {
        legend: {
          display: true,
          onClick: (e) => e.stopPropagation(),
          labels: { fontColor: "#ffffff", fontsize: 20 },
        },
      },
    });

    var eloChartCtx = document.getElementById("eloChart").getContext("2d");
    var eloChart = new Chart(eloChartCtx, {
      type: "line",
      data: {
        labels: [
          "Jan",
          "Feb",
          "Mär",
          "Apr",
          "Mai",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Okt",
        ],
        datasets: [
          {
            data: [282, 350, 411, 502, 635, 809, 947, 1402, 3700, 5267],
            label: "Elo",
            borderColor: "#31bebeff",
            fill: false,
          },
        ],
      },
      options: {
        legend: { display: false },
        title: {
          display: false,
          text: "Elo over time",
          fontColor: "#ffffff",
        },
      },
    });
  </script>
</html>
